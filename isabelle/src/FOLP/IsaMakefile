#
# IsaMakefile for FOLP
#

## targets

default: FOLP
images: FOLP
test: FOLP-ex
all: images test
full: all
smlnj: all


## global settings

SRC = $(ISABELLE_HOME)/src
OUT = $(ISABELLE_OUTPUT)
LOG = $(OUT)/log


## FOLP

FOLP: Pure $(OUT)/FOLP

Pure:
	@cd $(SRC)/Pure; $(ISABELLE_TOOL) make Pure

$(OUT)/FOLP: $(OUT)/Pure FOLP.thy IFOLP.thy ROOT.ML classical.ML	\
  hypsubst.ML intprover.ML simp.ML simpdata.ML $(SRC)/Tools/misc_legacy.ML
	@$(ISABELLE_TOOL) usedir -b $(OUT)/Pure FOLP


## FOLP-ex

FOLP-ex: FOLP $(LOG)/FOLP-ex.gz

$(LOG)/FOLP-ex.gz: $(OUT)/FOLP ex/ROOT.ML ex/Foundation.thy ex/If.thy	\
  ex/Intro.thy ex/Nat.thy ex/Intuitionistic.thy ex/Classical.thy	\
  ex/Propositional_Int.thy ex/Propositional_Cla.thy			\
  ex/Quantifiers_Int.thy ex/Quantifiers_Cla.thy
	@$(ISABELLE_TOOL) usedir $(OUT)/FOLP ex


## clean

clean:
	@rm -f $(OUT)/FOLP $(LOG)/FOLP.gz $(LOG)/FOLP-ex.gz
