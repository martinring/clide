#
# IsaMakefile for FOL
#

## targets

default: FOL
images: FOL
test: FOL-ex
all: images test
full: all
smlnj: all


## global settings

SRC = $(ISABELLE_HOME)/src
OUT = $(ISABELLE_OUTPUT)
LOG = $(OUT)/log


## FOL

FOL: Pure $(OUT)/FOL

Pure:
	@cd $(SRC)/Pure; $(ISABELLE_TOOL) make Pure

$(OUT)/Pure: Pure

$(OUT)/FOL: $(OUT)/Pure $(SRC)/Provers/blast.ML				\
  $(SRC)/Provers/clasimp.ML $(SRC)/Provers/classical.ML			\
  $(SRC)/Tools/case_product.ML $(SRC)/Tools/misc_legacy.ML		\
  $(SRC)/Tools/IsaPlanner/zipper.ML $(SRC)/Tools/IsaPlanner/isand.ML	\
  $(SRC)/Tools/IsaPlanner/rw_tools.ML					\
  $(SRC)/Tools/IsaPlanner/rw_inst.ML $(SRC)/Tools/eqsubst.ML		\
  $(SRC)/Provers/hypsubst.ML $(SRC)/Tools/induct.ML			\
  $(SRC)/Tools/intuitionistic.ML $(SRC)/Tools/atomize_elim.ML		\
  $(SRC)/Tools/project_rule.ML $(SRC)/Provers/quantifier1.ML		\
  $(SRC)/Provers/splitter.ML FOL.thy IFOL.thy ROOT.ML			\
  document/root.tex fologic.ML intprover.ML simpdata.ML
	@$(ISABELLE_TOOL) usedir -p 2 -b $(OUT)/Pure FOL


## FOL-ex

FOL-ex: FOL $(LOG)/FOL-ex.gz

$(LOG)/FOL-ex.gz: $(OUT)/FOL ex/First_Order_Logic.thy ex/If.thy		\
  ex/Nat.thy ex/Nat_Class.thy ex/Natural_Numbers.thy			\
  ex/Locale_Test/Locale_Test.thy ex/Locale_Test/Locale_Test1.thy	\
  ex/Locale_Test/Locale_Test2.thy ex/Locale_Test/Locale_Test3.thy	\
  ex/Miniscope.thy ex/Prolog.thy ex/ROOT.ML ex/Classical.thy		\
  ex/document/root.tex ex/Foundation.thy ex/Intuitionistic.thy		\
  ex/Intro.thy ex/Propositional_Int.thy ex/Propositional_Cla.thy	\
  ex/Quantifiers_Int.thy ex/Quantifiers_Cla.thy
	@$(ISABELLE_TOOL) usedir $(OUT)/FOL ex


## clean

clean:
	@rm -f $(OUT)/FOL $(LOG)/FOL.gz $(LOG)/FOL-ex.gz
